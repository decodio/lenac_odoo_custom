<?xml version = "1.0" encoding="utf-8"?>
<odoo>
    <record id="hr_job_long_stage_form" model="ir.ui.view">
        <field name="name">hr.job.long.stage.form</field>
        <field name="model">hr.job.long.stage</field>
        <field name="arch" type="xml">
            <form string="Job Stage">
                <group>
                    <group>
                        <field name="name"/>
                        <field name="state"/>
                        <field name="sequence"/>
                    </group>
                    <group>
                        <field name="mail_template_id"/>
                    </group>
                </group>
                <notebook>
                    <page string="Flow" name="page_flow">
                        <group name="group_flow">
                            <group string="Forward" name="group_flow_forward">
                                <field name="allow_skipping"/>
                                <field name="allowed_forward_group_id"/>
                            </group>
                            <group string="Backward" name="group_flow_backward">
                                <field name="block_backward"/>
                                <field name="allowed_backward_group_id"/>
                            </group>
                        </group>
                    </page>
                    <page string="Email Templates">
                        <group name="group_email_templates" colspan="4">
                            <field name="approvers_mail_template_id"/>
                            <field name="rejected_mail_template_id"/>
                            <field name="mail_template_ids">
                                <tree>
                                    <field name="name"/>
                                </tree>
                            </field>
                        </group>
                    </page>
                    <page string="Required Fields">
                        <group name="group_required_fields" colspan="4">
                            <label for="required_field_ids"/>
                            <field name="required_field_ids" colspan="4" nolabel="1">
                                <tree>
                                    <field name="name"/>
                                </tree>
                            </field>
                        </group>
                    </page>
                    <page string="Tasks">
                        <group name="group_todo_tasks" colspan="4">
                            <field name="task_ids" colspan="4" nolabel="1"
                                   context="{'default_is_template_task': True, 'default_active': False, 'active_test': False}"
                                   domain="[('is_template_task', '=', True), ('active', '=', False)]">
                                <tree>
                                    <field name="name"/>
                                </tree>
                            </field>
                        </group>
                    </page>
                    <page string="Approvals">
                        <group name="group_approvals" colspan="4">
                            <field name="approval_ids" colspan="4" nolabel="1">
                                <tree>
                                    <field name="name"/>
                                </tree>
                            </field>
                        </group>
                    </page>
                </notebook>
            </form>
        </field>
    </record>

    <record id="hr_job_long_stage_tree" model="ir.ui.view" >
        <field name="name">hr.job.long.stage.tree</field>
        <field name="model">hr.job.long.stage</field>
        <field name="arch" type="xml">
            <tree string="Stages">
                <field name="sequence" widget="handle"/>
                <field name="name"/>
                <field name="state"/>
            </tree>
        </field>
    </record>

    <record id="hr_job_long_stage_act" model="ir.actions.act_window">
        <field name="name">Stages</field>
        <field name="res_model">hr.job.long.stage</field>
        <field name="view_type">form</field>
        <field name="view_id" ref="hr_job_long_stage_tree"/>
    </record>

    <menuitem id="menu_hr_job_long_stage_act"
          action="hr_job_long_stage_act"
          name="Stages"
          sequence="0"
          parent="hr.menu_human_resources_configuration"
          groups="base.group_user"/>
</odoo>