<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="0">
         <record id="maintenance_equipment_view_form_inherit_hr" model="ir.ui.view">
            <field name="name">maintenance.equipment.view.form.inherit.hr</field>
            <field name="model">maintenance.equipment</field>
            <field name="inherit_id" ref="maintenance.hr_equipment_view_form"/>
            <field name="arch" type="xml">
                <xpath expr="//div[@name='button_box']" postition='inside'>
                    <button name="create_new_issue"
                            type="object"
                            class="oe_stat_button"
                            icon="fa-user-md"
                            status="draft"
                            context="{'default_name': name, 'default_equipment_id': id}">
                            <!-- Produkcija id od HW project_id 'default_project_id': 167206-->
                            <!-- Test id od HW project_id 'default_project_id': 237817-->
                            <field string="Issues" name="issues_count" widget="statinfo"/>
                    </button>
                    <button name="create_scrap"
                            type="object"
                            string="Scrap"
                            class="oe_stat_button"
                            icon="fa-trash-o"
                            context="{'default_equipment_id': id}">
                    </button>
                    <button name="toggle_active" type="object" class="oe_stat_button" icon="fa-archive">
                        <field name="active" widget="boolean_button" options='{"terminology": "archive"}'/>
                    </button>
                </xpath>
                <xpath expr="//field[@name='category_id']" position="before">
                    <field name="sort_of_equipment" wiget="radio"/>
                </xpath>
                <xpath expr="//field[@name='category_id']" position="after">
                    <field name = "subcategory_id" string="Subcategory"/>
                    <field name = "pc_number"/>
                    <field name = "barcode_number"/>
                    <field name = "no_of_pieces" string="Number of pieces" attrs="{'invisible': ['|', ('sort_of_equipment', '=', 'sm_production'), ('sort_of_equipment', '=', False)]}"/>
                    <field name = "number_of_pieces" string="Number of pieces" attrs="{'invisible': ['|','|', ('sort_of_equipment', '=', 'ict'), ('sort_of_equipment', '=', 'production'), ('sort_of_equipment', '=', False)]}"/>
                </xpath>
                <xpath expr="//field[@name='employee_id']" position="after">
                    <field name="new_employee_number" string="Employee number" attrs="{'invisible': ['|', ('equipment_assign_to', '=', 'department'), ('equipment_assign_to', '=', False)]}"/>
                    <field name="employee_department_new" string="Employee department" attrs="{'invisible': ['|', ('equipment_assign_to', '=', 'department'), ('equipment_assign_to', '=', False)]}"/>
                    <field name="employee_department_new_number" string="Department code" attrs="{'invisible': ['|', ('equipment_assign_to', '=', 'department'), ('equipment_assign_to', '=', False)]}"/>
                </xpath>
                <xpath expr="//field[@name='department_id']" position="after">
                    <field name="new_department_number" string="Department code" attrs="{'invisible': ['|', ('equipment_assign_to', '=', 'employee'), ('equipment_assign_to', '=', False)]}"/>
                    <field name="date_assigned"/>
                    <field name="installed_os" domain="[('sw_type', '=', 'OS')]" attrs="{'invisible': ['|','|','|', ('sort_of_equipment', '=', 'production'), ('sort_of_equipment', '=', 'sm_production'), ('sort_of_equipment', '=', 'production_tools'), ('sort_of_equipment', '=', False)]}"/>
                    <field name="new_location"/>
                    <field name="installed_sw" domain="[('sw_type', '=', 'prog')]" attrs="{'invisible': ['|','|','|', ('sort_of_equipment', '=', 'production'), ('sort_of_equipment', '=', 'sm_production'), ('sort_of_equipment', '=', 'production_tools'), ('sort_of_equipment', '=', False)]}"/>
                </xpath>
                 <xpath expr="//field[@name='technician_user_id']" position="after">
                     <field name="old_equipment_assign_to" widget="radio"/>
                        <field name="old_employee_id" string="Employee" attrs="{'invisible': ['|', ('old_equipment_assign_to', '=', 'department'), ('old_equipment_assign_to', '=', False)]}"/>
                        <field name="old_employee_number" string="Employee number" attrs="{'invisible': ['|', ('old_equipment_assign_to', '=', 'department'), ('old_equipment_assign_to', '=', False)]}"/>
                        <field name="employee_department_old" string="Employee department" attrs="{'invisible': ['|', ('old_equipment_assign_to', '=', 'department'), ('old_equipment_assign_to', '=', False)]}"/>
                        <field name="employee_department_old_number" string="Department code" attrs="{'invisible': ['|', ('old_equipment_assign_to', '=', 'department'), ('old_equipment_assign_to', '=', False)]}"/>
                        <field name="old_department_id" string="Department" attrs="{'invisible': ['|', ('old_equipment_assign_to', '=', 'employee'), ('old_equipment_assign_to', '=', False)]}"/>
                        <field name="old_department_number" string="Department code" attrs="{'invisible': ['|', ('old_equipment_assign_to', '=', 'employee'), ('old_equipment_assign_to', '=', False)]}"/>
                </xpath>
                <xpath expr="//field[@name='partner_id']" position="after">
                    <field name="date_purchased"/>
                </xpath>
                <notebook>
                    <page string="Hardware components" name="general_description" attrs="{'invisible': ['|', ('sort_of_equipment', '=', 'production'), ('sort_of_equipment', '=', False)]}">
                        <group string="Components tracking">
                            <group>
                                <field name="components" domain="[('installed_on_pc', '=', False)]"/>
                                <field name="additional_equipment_installed_ids" string="Additonaly installed components">
                                    <tree>
                                        <field name="spare_equipment_name"/>
                                    </tree>
                                </field>
                            </group>
                        </group>
                    </page>
                    <page string="Network resources" name="general_description" attrs="{'invisible': ['|','|','|', ('sort_of_equipment', '=', 'production'), ('sort_of_equipment', '=', 'sm_production'), ('sort_of_equipment', '=', 'production_tools'), ('sort_of_equipment', '=', False)]}">
                        <group string="Network resources">
                            <group>
                                <field name="network_resources"/>
                            </group>
                        </group>
                    </page>
                    <page string="Issues" name="issues" >
                        <group string="Reported issues">
                            <field name="issue_ids" nolabel="1" context="{'form_view_ref': 'sp_viktor_lenac.project_issue_lenac_form_view'}">
                                <tree create="false">
                                    <field name="name"/>
                                    <field name="project_id"/>
                                    <field name="stage_id"/>
                                    <field name="user_id"/>
                                    <field name="date"/>
                                </tree>
                            </field>
                        </group>
                        <group string="Preventive issues">
                               <field name="preventive_issue_ids" nolabel="1" context="{'form_view_ref': 'sp_viktor_lenac.project_issue_lenac_form_view', 'default_name': name, 'default_equipment_id': id, 'default_issue_type': 'preventive'}">
                                    <tree create="true">
                                        <field name="name"/>
                                        <field name="project_id"/>
                                        <field name="stage_id"/>
                                        <field name="user_id"/>
                                        <field name="date"/>
                                    </tree>
                                </field>
                        </group>
                    </page>
                </notebook>
                <notebook>
                    <page string="Related equipment" name="related_equipment">
                        <group string="Sub-parts od Equipment">
                            <group>
                                <field name="parent_equipment_ids"/>
                                <field name="child_equipment_ids"/>
                            </group>
                        </group>
                    </page>
                </notebook>
                <notebook>
                    <page string="Issues for maintenance " name="maintenance_issue">
                        <group>
                            <field name="preventive_maintenance_ids" string="Preventive maintenance" context="{'default_name': name, 'default_equipment_id': id}">
                                    <tree create="true">
                                        <field name="name"/>
                                        <field name="period"/>
                                        <field name="project_id"/>
                                        <field name="next_action_date"/>
                                        <field name="description"/>
                                        <field name="equipment_id"/>
                                    </tree>
                                </field>
                        </group>
                    </page>
                </notebook>
                <notebook>
                    <page string="Small equipment" name="small_equipment" attrs="{'invisible': ['|','|', ('sort_of_equipment', '=', 'ict'), ('sort_of_equipment', '=', 'production'), ('sort_of_equipment', '=', False)]}">
                        <group>
                            <field name = "number_of_piecese" string="Number of pieces used"/>
                            <field name = "number_of_piecesst" string="Number of pieces stored"/>
                            <field name="equipment_tracking_ids" string="Equipment tracking">
                                <tree editable="top">
                                    <field name="sm_equipment_assign_to" string="Used by"/>
                                    <field name="sm_employee_id" string="Current Employee"/>
                                    <field name="sm_employee_number" string="Employee Code"/>
                                    <field name="employee_department_sm" string="Employee Department"/>
                                    <field name="employee_department_sm_number" string="Department Code"/>
                                    <field name="smo_employee_id" string="Previous Employee"/>
                                    <field name="smo_employee_number" string="Employee Code"/>
                                    <field name="employee_department_smo" string="Employee Department"/>
                                    <field name="employee_department_smo_number" string="Department code"/>
                                    <field name="tool_shop_id" string="Tool Shop"/>
                                </tree>
                            </field>
                        </group>
                    </page>
                </notebook>
                <notebook>
                    <page string="Spare Equipment" name="spare_equipment" attrs="{'invisible': ['|','|', ('sort_of_equipment', '=', 'production'), ('sort_of_equipment', '=', 'sm_production'), ('sort_of_equipment', '=', False)]}">
                        <group>
                            <field name = "number_of_spare_pieces" string="Total number of Pieces"/>
                            <field name = "number_of_spare_piecesst" string="Number of Pieces on storage"/>
                            <field name = "number_of_spare_piecese" string="Number op Pieces Used"/>
                            <field name = "spare_equipment_ids" string="">
                                <tree editable="top">
                                    <field name="spare_equipment_assign_to" string="Used by"/>
                                    <field name="spare_equipment_id" string="Installed"/>
                                    <field name="tool_shop_id" string="Stored in"/>
                                </tree>
                            </field>
                        </group>
                    </page>
                </notebook>
            </field>
        </record>

        <record id="maintenance_equipment_view_kanban_inherit_hr" model="ir.ui.view">
            <field name="name">maintenance.equipment.view.kanban.inherit.hr</field>
            <field name="model">maintenance.equipment</field>
            <field name="inherit_id" ref="maintenance.hr_equipment_view_kanban"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='department_id']" position="after">
                    <!--<field name="next_action_dates"/>-->
                    <field name="issues_open_count"/>
                </xpath>
                <div class="oe_kanban_content" tooltip="kanban-tooltip">
                    <div class="oe_kanban_footer_left mt4 label label-danger" t-if="record.issues_open_count.raw_value" >
                        <t t-raw="record.issues_open_count.raw_value"/> Issues
                    </div>
                    <!--<div class="oe_kanban_footer_left mt4 label label-default" t-if="record.next_action_dates.raw_value" >
                        <t t-raw="moment(record.next_action_dates.raw_value).format('MMMM Do')"/>
                    </div>-->
                </div>
            </field>
        </record>

        <record id="maintenance_equipment_view_search_inherit_hr" model="ir.ui.view">
            <field name="name">maintenance.equipment.view.search.inherit.hr</field>
            <field name="model">maintenance.equipment</field>
            <field name="inherit_id" ref="maintenance.hr_equipment_view_search"/>
            <field name="arch" type="xml">
                <group position="inside">
                    <filter string="Subcategory" domain="[]" context="{'group_by': 'subcategory_id'}"/>
                </group>
            </field>
        </record>

        <!-- MARK FOR SCRAP-->
        <record model="ir.ui.view" id="maintenance_equipment_scrap_search_view">
            <field name="name">Scraped Equipment</field>
            <field name="model">maintenance.equipment.scrap</field>
            <field name="arch" type="xml">
                <search string="Scraped Equipment">
                    <field name="equipment_id"/>
                    <field name="equipment_name"/>
                    <field name="equipment_number"/>
                    <field name="date_purchased"/>
                    <field name="location"/>
                </search>
            </field>
        </record>

        <record model="ir.ui.view" id="maintenance_equipment_scrap_tree_view" >
            <field name="name">Scraped Equipment</field>
            <field name="model">maintenance.equipment.scrap</field>
            <field name="arch" type="xml">
                <tree string="Scraped Equipment">
                    <field name="equipment_id"/>
                    <field name="equipment_name"/>
                    <field name="equipment_number"/>
                    <field name="date_purchased"/>
                    <field name="location"/>
                </tree>
            </field>
        </record>

        <record model="ir.ui.view" id="maintenance_equipment_scrap_form_view">
            <field name="name">maintenance.equipment.scrap.form</field>
            <field name="model">maintenance.equipment.scrap</field>
            <field name="arch" type="xml">
                <form string="Scrap Form">
                    <!--header>
                        <field name="stage_id" widget="statusbar" clickable="True"/>
                    </header-->
                    <sheet string="Scrap Reason">
                        <div class="oe_button_box" name="button_box">
                            <button name="toggle_active" type="object" class="oe_stat_button" icon="fa-archive">
                                <field name="active" widget="boolean_button" options='{"terminology": "archive"}'/>
                            </button>
                        </div>
                        <group>
                            <field name="equipment_id" invisible="1"/>
                            <field name="equipment_name"/>
                            <field name="equipment_number"/>
                            <field name="date_purchased"/>
                            <field name="location"/>
                            <field name="location_name"/>
                            <field name="scrap_description"/>
                            <field name="scrap_date"/>
                        </group>
                    </sheet>
                    <!--div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers" groups="base.group_user"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div-->
                </form>
            </field>
        </record>

        <record id="action_open_maintenance_scrap_form_popup" model="ir.actions.act_window">
            <field name="name">Scrap Reason</field>
            <field name="type">ir.actions.act_window</field>
            <field name="res_model">maintenance.equipment.scrap</field>
            <field name="view_mode">form</field>
            <field name="view_id" ref="maintenance_equipment_scrap_form_view"/>
            <field name="target">new</field>
        </record>

        <record id="maintenance_equipment_scrap_action" model="ir.actions.act_window" >
            <field name="name">Scrap Equipment</field>
            <field name="res_model">maintenance.equipment.scrap</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
            <field name="help" type="html">
              <p class="oe_view_nocontent_create">
                Click to scrap.
              </p>
            </field>
        </record>

        <menuitem
            id="menu_scraped_equipment_main"
            name="Scrap"
            parent="maintenance.menu_maintenance_title"
            sequence="120"
            />
        <menuitem
            id="menu_scraped_equipment"
            name="Scraped equipment"
            parent="menu_scraped_equipment_main"
            action="maintenance_equipment_scrap_action"
            sequence="1"
            />


        <record id="vl_equipment_action_from_subcategory_form" model="ir.actions.act_window">
            <field name="name">Equipments</field>
            <field name="res_model">maintenance.equipment</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="search_view_id" ref="maintenance_equipment_view_search_inherit_hr"/>
            <field name="view_id" ref="maintenance_equipment_view_kanban_inherit_hr"/>
            <field name="context">{
                'search_default_subcategory_id': [active_id],
                'default_subcategory_id': active_id,
            }</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click to add a new Engine.
                </p><p>
                    This application helps you to track equipments used by employees.
                    Create some laptop, printer or phone and link each equipment to an employee or departement.
                    You will manage allocations, issues and maintenance of equipment.
                </p>
            </field>
        </record>

        <record id="hr_equipment_issue_action_link" model="ir.actions.act_window">
        <field name="name">Issues</field>
        <field name="res_model">project.issue</field>
        <field name="view_mode">kanban,tree,form,pivot,graph,calendar</field>
        <field name="search_view_id" ref="sp_viktor_lenac.view_project_issue_lenac_filter"/>
        <field name="view_id" ref="sp_viktor_lenac.project_issue_lenac_kanban_view"/>
        <field name="form_view_id" ref="sp_viktor_lenac.project_issue_lenac_form_view"/>
        <field name="context">{
            'search_default_category_id': [active_id],
            'default_category_id': active_id,
        }</field>
        </record>

        <record id="hr_equipment_category_inherit_view_form" model="ir.ui.view">
        <field name="name">hr.equipment.category.inherit.view.form</field>
        <field name="model">maintenance.equipment.category</field>
        <field name="inherit_id" ref="maintenance.hr_equipment_category_view_form"/>
            <field name="arch" type="xml">
                <xpath expr="//div[@name='button_box']" postition='inside'>
                        <button name="%(hr_equipment_issue_action_link)d"
                                type="action"
                                class="oe_stat_button"
                                icon="fa-user-md"
                                status="draft">
                                <field string="Issues" name="issues_count" widget="statinfo"/>
                        </button>
                    </xpath>
            </field>
        </record>

        <record id="vl_maintenance_stage_draft" model="maintenance.stage">
           <field name="name">Draft</field>
           <field name="state">draft</field>
           <field name="sequence">20</field>
        </record>
        <record id="vl_maintenance_stage_open" model="maintenance.stage">
           <field name="name">Open</field>
           <field name="state">open</field>
           <field name="sequence">30</field>
        </record>
        <record id="vl_maintenance_stage_cancelled" model="maintenance.stage">
           <field name="name">Cancelled</field>
           <field name="state">cancelled</field>
           <field name="sequence">999</field>
        </record>


        <record id="maintenance_request_view_form_inherit_hr" model="ir.ui.view">
        <field name="name">maintenance.request.view.form.inherit.hr</field>
        <field name="model">maintenance.request</field>
        <field name="inherit_id" ref="maintenance.hr_equipment_request_view_form"/>
            <field name="arch" type="xml">
                <header position="inside">
                    <field name="state" invisible="1"/>
                </header>
                <xpath expr="//field[@name='employee_id']" position="after">
                    <label for="equipment_project_code" string="Type and code"/>
                    <div>
                        <field name="equipment_project_type_id" class="oe_inline" options="{'no_create': True}"/>
                        <span> No. </span>
                        <field name="equipment_project_code" readonly="1" class="oe_inline"/>
                    </div>
                </xpath>
                <sheet>
                    <notebook>
                        <page string="Related equipment" name="related_equipment">
                            <group string="Sub-parts od Equipment">
                                <group>
                                    <field name="maintenance_child_equipment_ids"/>
                                </group>
                            </group>
                        </page>
                        <page string="Issue" name="related_equipment">
                            <group string="Reported issues">
                                <group>
                                    <field name="issue_ids"/>
                                </group>
                            </group>
                        </page>
                    </notebook>
                </sheet>
            </field>
        </record>

        <record id="vl_maintenance_stage_form" model="ir.ui.view">
            <field name="name">vl.maintenance.stage.form</field>
            <field name="model">maintenance.stage</field>
            <field name="arch" type="xml">
                <form string="Maintenance Stage">
                    <group name="maintenance_stage">
                        <group>
                            <field name="name"/>
                            <field name="state"/>
                            <field name="sequence"/>
                        </group>
                        <group>
                            <field name="mail_template_id"/>
                            <field name="create_code"/>
                        </group>
                    </group>
                    <notebook>
                        <page string="Flow" name="page_flow">
                            <group name="group_flow">
                                <group string="Forward" name="group_flow_forward">
                                    <field name="allow_skipping"/>
                                    <field name="allowed_forward_group_id"/>
                                </group>
                                <group string="Backward" name="group_flow_backward">
                                    <field name="block_backward"/>
                                    <field name="allowed_backward_group_id"/>
                                </group>
                            </group>
                        </page>
                        <page string="Email Templates">
                             <group name="group_mail_templates" colspan="4">
                                <label for="mail_template_ids"/>
                                <field name="mail_template_ids" colspan="4" nolabel="1">
                                    <tree>
                                        <field name="name"/>
                                    </tree>
                                </field>
                            </group>
                        </page>
                        <page string="Required Fields">
                            <group name="group_required_fields" colspan="4">
                                <label for="required_field_ids"/>
                                <field name="required_field_ids" colspan="4" nolabel="1">
                                    <tree>
                                        <field name="name"/>
                                    </tree>
                                </field>
                            </group>
                        </page>
                        <page string="Tasks">
                            <group name="group_todo_tasks" colspan="4">
                                <field name="task_ids" colspan="4" nolabel="1"
                                       context="{'default_is_template_task': True, 'default_active': False, 'active_test': False}"
                                       domain="[('is_template_task', '=', True), ('active', '=', False)]">
                                    <tree>
                                        <field name="name"/>
                                    </tree>
                                </field>
                            </group>
                        </page>
                    </notebook>
                </form>
            </field>
        </record>

        <record id="maintenance_stage_view_tree_inherit_vl" model="ir.ui.view">
        <field name="name">maintenance.stage.view.tree.inherit.vl</field>
        <field name="model">maintenance.stage</field>
        <field name="inherit_id" ref="maintenance.hr_equipment_stage_view_tree"/>
            <field name="arch" type="xml">
                <xpath expr="//tree" position="attributes">
                    <attribute name="editable"/>
                </xpath>
                <xpath expr="//field[@name='name']" position="after">
                    <field name="create_code"/>
                    <!--<field name="mail_template_id"/>-->
                    <field name="state"/>
                </xpath>
            </field>
        </record>

        <record id="vl_maintenance_stage_act" model="ir.actions.act_window">
            <field name="name">Stages</field>
            <field name="res_model">maintenance.stage</field>
            <field name="view_mode">tree,form</field>
            <field name="view_type">form</field>
            <field name="view_id" ref="maintenance_stage_view_tree_inherit_vl"/>
        </record>

         <menuitem
            id="menu_vl_maintenance_stage"
            name="Stages"
            parent="maintenance.menu_maintenance_stage_configuration"
            action="vl_maintenance_stage_act"
            groups="maintenance.group_equipment_manager"
            sequence="100"/>

        <record id="project_issue_lenac_inherit_form_view" model="ir.ui.view">
        <field name="name">project.issue.lenac.inherit.form.view</field>
        <field name="model">project.issue</field>
        <field name="inherit_id" ref="sp_viktor_lenac.project_issue_lenac_form_view"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='responsible_id']" position="after">
                    <field name="equipment_id"/>
                </xpath>
                <notebook>
                    <page string="Maintenance details" name="general_description" attrs="{'invisible': ['|', ('equipment_id', '=', False)]}">
                         <group nolabel="1">
                            <group>
                                <!--<field name="period"/>-->
                                <!--<field name="next_action_date" readonly="True" string="Next issue"/>-->
                                <field name="schedule_date"/>
                                <field name="issue_type" readonly="True"/>
                                <field name="item_specification"/>
                                <field name="parent_equipment_id"/>
                            </group>
                         </group>
                    </page>
                    <page string="Related application view">
                         <group nolabel="1">
                            <group>
                                <field name="related_module_menu"/>
                            </group>
                         </group>
                    </page>
                </notebook>
            </field>
        </record>

        <record id="maintenance_issue_plan_form" model="ir.ui.view">
            <field name="name">maintenance.issue.plan.form</field>
            <field name="model">maintenance.issue.plan</field>
            <field name="arch" type="xml">
                <form string="Maintenance Issues">
                    <group>
                        <field name="name"/>
                        <field name="period"/>
                        <field name="next_action_date" readonly="1"/>
                        <field name="project_id"/>
                        <field name="description"/>
                    </group>
                </form>
            </field>
        </record>

        <record id="vl_equipment_subcategory_view_form" model="ir.ui.view">
            <field name="name">equipment.subcategory.form</field>
            <field name="model">maintenance.equipment.subcategory</field>
            <field name="arch" type="xml">
                <form string="Equipment Subcategories">
                    <sheet>
                    <div class="oe_button_box" name="button_box">
                        <button name="%(vl_equipment_action_from_subcategory_form)d"
                            class="oe_stat_button"
                            icon="fa-laptop"
                            type="action">
                            <field string="Equipments" name="equipment_count" widget="statinfo"/>
                        </button>
                    </div>
                    <div class="oe_title">
                        <label for="name" class="oe_edit_only" string="Category Name"/>
                        <h1>
                            <field name="name"/>
                        </h1>
                    </div>
                    <group>
                        <group col="4">
                            <field name="technician_user_id"/>
                        </group>
                        <group name="group_alias" attrs="{'invisible': [('alias_domain', '=', False)]}" groups="base.group_no_one">
                            <label for="alias_name" string="Email Alias"/>
                            <div name="alias_def">
                                <field name="alias_id" class="oe_read_only oe_inline" string="Email Alias" required="0"/>
                                <div class="oe_edit_only oe_inline" name="edit_alias" style="display: inline;">
                                    <field name="alias_name" class="oe_inline"/>@<field name="alias_domain" class="oe_inline" readonly="1"/>
                                </div>
                            </div>
                        </group>
                    </group>
                    <field name="note" nolabel="1"/>
                    </sheet>
                    <div class="oe_chatter">
                        <field name="message_follower_ids" widget="mail_followers"/>
                        <field name="message_ids" widget="mail_thread"/>
                    </div>
                </form>
            </field>
        </record>

        <record id="vl_equipment_subcategory_view_tree" model="ir.ui.view">
            <field name="name">equipment.subcategory.tree</field>
            <field name="model">maintenance.equipment.subcategory</field>
            <field name="arch" type="xml">
                <tree string="Assign To User">
                    <field name="name" string="Name"/>
                    <field name="technician_user_id"/>
                </tree>
            </field>
        </record>

        <record id="vl_equipment_subcategory_view_search" model="ir.ui.view">
            <field name="name">equipment.subcategory.search</field>
            <field name="model">maintenance.equipment.subcategory</field>
            <field name="arch" type="xml">
                <search string="Search">
                    <field name="name" string="Subcategory Name" filter_domain="[('name','ilike',self)]"/>
                    <group  expand='0' string='Group by...'>
                        <filter string='Responsible' domain="[]" context="{'group_by' : 'technician_user_id'}"/>
                    </group>
                </search>
            </field>
        </record>

        <!-- equipment.category : actions -->
        <record id="vl_equipment_subcategory_action" model="ir.actions.act_window">
            <field name="name">Equipment Subcategories</field>
            <field name="res_model">maintenance.equipment.subcategory</field>
            <field name="view_mode">tree,form</field>
            <field name="view_id" ref="vl_equipment_subcategory_view_tree"/>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                    Click to add a new equipment category.
                </p>
            </field>
        </record>



        <menuitem
            id="menu_maintenance_subcat"
            name="Equipment Subcategories"
            parent="maintenance.menu_maintenance_configuration"
            action="vl_equipment_subcategory_action"
            sequence="3"/>
    </data>
</odoo>